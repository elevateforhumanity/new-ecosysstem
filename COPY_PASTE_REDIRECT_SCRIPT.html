<!-- HUB PAGES REDIRECT SCRIPT - ELEVATE FOR HUMANITY -->
<script>
(function() {
    'use strict';
    
    // Configuration
    const HUB_SUBDOMAIN = 'https://hubs.elevateforhumanity.org';
    const HUB_PAGES = ['student-hub', 'business-hub', 'community-hub', 'educator-hub'];
    
    // Get current path
    const currentPath = window.location.pathname.toLowerCase();
    const currentPage = currentPath.replace('/', '').replace(/\/$/, '');
    
    // Check if current page is a hub page
    if (HUB_PAGES.includes(currentPage)) {
        console.log('Hub page detected:', currentPage);
        
        // Construct redirect URL
        let redirectUrl = `${HUB_SUBDOMAIN}/${currentPage}.html`;
        
        // Add tracking parameters if they exist
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.toString()) {
            redirectUrl += '?' + urlParams.toString();
        }
        
        console.log('Redirecting to:', redirectUrl);
        
        // Show loading message
        document.body.innerHTML = `
            <div style="
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                text-align: center;
            ">
                <div>
                    <div style="
                        width: 50px;
                        height: 50px;
                        border: 4px solid rgba(255,255,255,0.3);
                        border-top: 4px solid white;
                        border-radius: 50%;
                        animation: spin 1s linear infinite;
                        margin: 0 auto 1rem;
                    "></div>
                    <h2 style="margin: 0 0 0.5rem; font-size: 1.5rem;">Loading ${currentPage.replace('-', ' ').replace(/\b\w/g, l => l.toUpperCase())}...</h2>
                    <p style="margin: 0; opacity: 0.8;">Redirecting to specialized hub</p>
                </div>
                <style>
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                </style>
            </div>
        `;
        
        // Perform redirect after short delay
        setTimeout(() => {
            try {
                window.location.replace(redirectUrl);
            } catch (error) {
                window.location.href = redirectUrl;
            }
        }, 1000);
    }
    
    // Add hub navigation dropdown
    function addHubNavigation() {
        const nav = document.querySelector('nav') || document.querySelector('.nav') || document.querySelector('#navigation');
        
        if (nav && !document.querySelector('.hub-nav-added')) {
            const hubNav = document.createElement('div');
            hubNav.className = 'hub-nav hub-nav-added';
            hubNav.style.cssText = 'position: relative; display: inline-block; margin-left: 20px;';
            
            hubNav.innerHTML = `
                <button onclick="toggleHubDropdown()" style="
                    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                    color: white;
                    border: none;
                    padding: 10px 16px;
                    border-radius: 6px;
                    cursor: pointer;
                    font-weight: 600;
                    font-size: 14px;
                    transition: all 0.3s ease;
                    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                ">
                    üéØ Hubs ‚ñº
                </button>
                <div id="hubDropdown" style="
                    display: none;
                    position: absolute;
                    top: 100%;
                    left: 0;
                    background: white;
                    border: 1px solid #e5e7eb;
                    border-radius: 8px;
                    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
                    z-index: 1000;
                    min-width: 220px;
                    overflow: hidden;
                ">
                    <a href="/student-hub" style="display: block; padding: 12px 16px; text-decoration: none; color: #374151; border-bottom: 1px solid #f3f4f6; transition: all 0.2s ease;">
                        <div style="font-weight: 600; margin-bottom: 2px;">üéì Student Hub</div>
                        <div style="font-size: 12px; color: #6b7280;">Access courses and track progress</div>
                    </a>
                    <a href="/business-hub" style="display: block; padding: 12px 16px; text-decoration: none; color: #374151; border-bottom: 1px solid #f3f4f6; transition: all 0.2s ease;">
                        <div style="font-weight: 600; margin-bottom: 2px;">üíº Business Hub</div>
                        <div style="font-size: 12px; color: #6b7280;">Partner with us for workforce development</div>
                    </a>
                    <a href="/community-hub" style="display: block; padding: 12px 16px; text-decoration: none; color: #374151; border-bottom: 1px solid #f3f4f6; transition: all 0.2s ease;">
                        <div style="font-weight: 600; margin-bottom: 2px;">ü§ù Community Hub</div>
                        <div style="font-size: 12px; color: #6b7280;">Connect with learners and share experiences</div>
                    </a>
                    <a href="/educator-hub" style="display: block; padding: 12px 16px; text-decoration: none; color: #374151; transition: all 0.2s ease;">
                        <div style="font-weight: 600; margin-bottom: 2px;">üë®‚Äçüè´ Educator Hub</div>
                        <div style="font-size: 12px; color: #6b7280;">Access LMS and curriculum resources</div>
                    </a>
                </div>
            `;
            
            nav.appendChild(hubNav);
        }
    }
    
    // Initialize when page loads
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', addHubNavigation);
    } else {
        addHubNavigation();
    }
})();

// Global function for dropdown toggle
function toggleHubDropdown() {
    const dropdown = document.getElementById('hubDropdown');
    if (dropdown) {
        dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
    }
}

// Close dropdown when clicking outside
document.addEventListener('click', function(event) {
    const dropdown = document.getElementById('hubDropdown');
    const button = event.target.closest('button');
    
    if (dropdown && !button) {
        dropdown.style.display = 'none';
    }
});
</script>