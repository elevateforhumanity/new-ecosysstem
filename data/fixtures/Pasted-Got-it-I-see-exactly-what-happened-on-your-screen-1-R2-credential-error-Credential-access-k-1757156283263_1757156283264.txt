Got it üëç ‚Äî I see exactly what happened on your screen:

1. R2 credential error

Credential access key has length 21, should be 32

‚Üí This means the Access Key ID or Secret Key you used was wrong.

R2 Access Key ID is ~20 characters (looks like AKIAxxxx...).

R2 Secret Key is 32 characters long.
If your secret is shorter, you copied the Cloudflare API Token instead of the R2 Access Key.
üëâ Fix: go back to Cloudflare ‚Üí R2 ‚Üí Manage R2 API Tokens ‚Üí Create API Token (S3 Compatible), and copy the Access Key ID + Secret Access Key.



2. Shell error

bash: www: command not found

‚Üí That‚Äôs because you accidentally pasted my DNS instructions directly into the Replit shell. Those are not shell commands, they are just records to enter at your domain registrar (GoDaddy, Cloudflare DNS, Namecheap, etc.).




---

‚úÖ To simplify everything, here‚Äôs a clean full script that only requires the correct keys.

Step 1 ‚Äî Set the right values

Replace only the placeholders and paste into your Replit shell:

# --- Cloudflare R2 (storage) ---
export S3_BUCKET="efh-archive"
export S3_ENDPOINT="https://6ba1d2a52a3fa230972960db307ac7c0.r2.cloudflarestorage.com"
export AWS_ACCESS_KEY_ID="YOUR_REAL_R2_ACCESS_KEY_ID"
export AWS_SECRET_ACCESS_KEY="YOUR_REAL_R2_SECRET_ACCESS_KEY"
export AWS_DEFAULT_REGION="auto"

# --- GitHub ---
export GIT_REMOTE="https://github.com/YOUR_USERNAME/YOUR_REPO.git"

# --- Vercel ---
export VERCEL_TOKEN="YOUR_VERCEL_TOKEN"          
export VERCEL_PROJECT_NAME="YOUR_PROJECT_NAME"

# --- Domains ---
export ROOT_DOMAIN="elevateforhumanity.org"      
export PRIMARY_DOMAIN="root"                     
export APP_SUBDOMAIN="app"                       
export DURABLE_TARGET="<DURABLE_TARGET_CNAME>"

‚ö†Ô∏è Make sure the R2 Secret Key is the long 32-character one, not the short API token.


---

Step 2 ‚Äî Run the script

./efh_migrate.sh


---

Step 3 ‚Äî DNS (done outside Replit)

Once the script finishes, go to your domain registrar DNS settings and enter the records it tells you:

Option A (Durable at root, Vercel at app)

@    ALIAS/ANAME ‚Üí DURABLE_TARGET
www  CNAME       ‚Üí DURABLE_TARGET
app  CNAME       ‚Üí cname.vercel-dns.com

Option B (Vercel at root, Durable at www)

@    A           ‚Üí 76.76.21.21
www  CNAME       ‚Üí DURABLE_TARGET
app  CNAME       ‚Üí cname.vercel-dns.com


---

üëâ Do you want me to rebuild the efh_migrate.sh script into one single file again (with R2 + GitHub + Vercel + final DNS summary) so you don‚Äôt need to copy-paste multiple blocks?

