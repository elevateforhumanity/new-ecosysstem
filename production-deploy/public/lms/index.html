<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Learning Management System ‚Äì Elevate for Humanity</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <a class="skip-link" href="#main">Skip to content</a>
  
  <header class="site-header" role="banner">
    <nav class="nav" aria-label="Primary navigation">
      <a class="brand" href="/" aria-label="Elevate for Humanity home">
        <img src="https://cdn.elevateforhumanity.org/images/brand/efh-logo.svg" alt="Elevate for Humanity" height="40" width="200">
      </a>
      <ul class="nav-list">
        <li><a href="/portal/">Dashboard</a></li>
        <li><a href="/lms/" aria-current="page">Learning</a></li>
        <li><a href="/enroll/">Enrollment</a></li>
        <li><a href="/">Public Site</a></li>
      </ul>
      <button class="btn" id="signOutBtn">Sign Out</button>
    </nav>
  </header>

  <main class="section" id="main">
    <h1>Learning Management System</h1>
    
    <div style="background: #d4edda; border: 1px solid #c3e6cb; border-radius: 0.5rem; padding: 1rem; margin: 2rem 0;">
      <h2>üîí Protected LMS Area</h2>
      <p>This Learning Management System is protected by authentication. Only signed-in students can access course materials and assignments.</p>
    </div>

    <section>
      <h2>Your Courses</h2>
      <div class="cards">
        <div class="card">
          <div class="card-body">
            <h3>üõ°Ô∏è Cybersecurity Fundamentals</h3>
            <p><strong>Progress:</strong> 75% Complete</p>
            <p><strong>Next Assignment:</strong> Network Security Lab</p>
            <p><strong>Due Date:</strong> Friday, September 22</p>
            <a class="btn btn-primary" href="/lms/cybersecurity/">Continue Course</a>
          </div>
        </div>
        
        <div class="card">
          <div class="card-body">
            <h3>‚òÅÔ∏è Cloud Computing Basics</h3>
            <p><strong>Progress:</strong> 45% Complete</p>
            <p><strong>Next Assignment:</strong> AWS EC2 Setup</p>
            <p><strong>Due Date:</strong> Monday, September 25</p>
            <a class="btn btn-primary" href="/lms/cloud/">Continue Course</a>
          </div>
        </div>
        
        <div class="card">
          <div class="card-body">
            <h3>üè• Healthcare Foundations</h3>
            <p><strong>Progress:</strong> 90% Complete</p>
            <p><strong>Next Assignment:</strong> Final Exam</p>
            <p><strong>Due Date:</strong> Wednesday, September 27</p>
            <a class="btn btn-primary" href="/lms/healthcare/">Continue Course</a>
          </div>
        </div>
      </div>
    </section>

    <section>
      <h2>Recent Activity</h2>
      <div style="background: #f8f9fa; border-radius: 0.5rem; padding: 1.5rem;">
        <ul style="list-style: none; padding: 0; margin: 0;">
          <li style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e6e8eb;">
            <strong>Yesterday, 2:30 PM</strong><br>
            Completed "Network Protocols Quiz" in Cybersecurity Fundamentals<br>
            <span style="color: var(--success); font-weight: 600;">Score: 95%</span>
          </li>
          <li style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e6e8eb;">
            <strong>Monday, 10:15 AM</strong><br>
            Submitted "Cloud Architecture Diagram" assignment<br>
            <span style="color: var(--warning); font-weight: 600;">Pending Review</span>
          </li>
          <li style="margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e6e8eb;">
            <strong>Friday, 4:45 PM</strong><br>
            Attended virtual lab session: "Patient Vital Signs"<br>
            <span style="color: var(--success); font-weight: 600;">Completed</span>
          </li>
          <li>
            <strong>Thursday, 1:20 PM</strong><br>
            Downloaded course materials for Week 8<br>
            <span style="color: var(--muted);">Downloaded</span>
          </li>
        </ul>
      </div>
    </section>

    <section>
      <h2>Upcoming Deadlines</h2>
      <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 0.5rem; padding: 1.5rem;">
        <ul style="list-style: none; padding: 0; margin: 0;">
          <li style="margin-bottom: 1rem;">
            <strong>Friday, September 22</strong> - Network Security Lab (Cybersecurity)
          </li>
          <li style="margin-bottom: 1rem;">
            <strong>Monday, September 25</strong> - AWS EC2 Setup (Cloud Computing)
          </li>
          <li>
            <strong>Wednesday, September 27</strong> - Final Exam (Healthcare Foundations)
          </li>
        </ul>
      </div>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <section class="footer-grid">
      <div>
        <h3>Academic Support</h3>
        <p>
          <strong>Phone:</strong> <a href="tel:+1-317-555-9675">(317) 555-WORK</a><br>
          <strong>Email:</strong> <a href="mailto:academic@elevateforhumanity.org">academic@elevateforhumanity.org</a>
        </p>
      </div>
      <div>
        <h3>Technical Support</h3>
        <p>
          <strong>LMS Help:</strong> <a href="mailto:lms@elevateforhumanity.org">lms@elevateforhumanity.org</a><br>
          <strong>Hours:</strong> Mon-Fri 8AM-6PM EST
        </p>
      </div>
    </section>
  </footer>

  <script type="module">
    import { createClient } from 'https://esm.sh/@supabase/supabase-js@2';
    
    const supabaseUrl = import.meta.env?.VITE_SUPABASE_URL || 'YOUR_SUPABASE_URL';
    const supabaseAnonKey = import.meta.env?.VITE_SUPABASE_ANON_KEY || 'YOUR_SUPABASE_ANON_KEY';
    
    if (supabaseUrl !== 'YOUR_SUPABASE_URL' && supabaseAnonKey !== 'YOUR_SUPABASE_ANON_KEY') {
      const supabase = createClient(supabaseUrl, supabaseAnonKey);
      
      // Handle sign out
      document.getElementById('signOutBtn').onclick = async () => {
        const { error } = await supabase.auth.signOut();
        if (error) {
          alert(`Sign out error: ${error.message}`);
        } else {
          // Clear the cookie
          document.cookie = 'sb-access-token=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;';
          // Redirect to home page
          window.location.href = '/';
        }
      };
    } else {
      document.getElementById('signOutBtn').onclick = () => {
        alert('Sign out not available in demo mode');
      };
    }
  </script>
</body>
</html>